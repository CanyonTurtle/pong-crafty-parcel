{"dependencies":[{"name":"../core/core.js","loc":{"line":1,"column":21}},{"name":"fs","loc":{"line":148,"column":17}},{"name":"C:\\Users\\canno\\Documents\\Code\\parcel-crafty\\node_modules\\craftyjs\\src\\graphics\\shaders\\color.vert","includedInParent":true},{"name":"C:\\Users\\canno\\Documents\\Code\\parcel-crafty\\node_modules\\craftyjs\\src\\graphics\\shaders\\color.frag","includedInParent":true}],"generated":{"js":"var t=require(\"../core/core.js\"),e=window.document;t.extend({assignColor:function(){function t(t){return t._red=t._blue=t._green=0,t}function r(t){var e=t.toString(16);return 1===e.length&&(e=\"0\"+e),e}function n(e,r){var n,o,i,a=e.length;if(7===a)n=e.substr(1,2),o=e.substr(3,2),i=e.substr(5,2);else{if(4!==a)return t(r);n=e.substr(1,1),n+=n,o=e.substr(2,1),o+=o,i=e.substr(3,1),i+=i}return r._red=parseInt(n,16),r._green=parseInt(o,16),r._blue=parseInt(i,16),r}function o(e,r){var n=u.exec(e);return null===n||4!==n.length&&5!==n.length?t(r):(r._red=Math.round(parseFloat(n[1])),r._green=Math.round(parseFloat(n[2])),r._blue=Math.round(parseFloat(n[3])),n[4]&&(r._strength=parseFloat(n[4])),r)}function i(t,e){if(void 0===l[t]){!1===s&&(window.document.body.appendChild(a),s=!0),a.style.color=t;o(window.getComputedStyle(a).color,e),l[t]=function(t,e,n){return\"#\"+r(t)+r(e)+r(n)}(e._red,e._green,e._blue)}else n(l[t],e);return e}var a=e.createElement(\"div\");a.style.display=\"none\";var s=!1,l={aqua:\"#00ffff\",black:\"#000000\",blue:\"#0000ff\",fuchsia:\"#ff00ff\",gray:\"#808080\",green:\"#00ff00\",lime:\"#00ff00\",maroon:\"#800000\",navy:\"#000080\",olive:\"#808000\",orange:\"#ffa500\",purple:\"#800080\",red:\"#ff0000\",silver:\"#c0c0c0\",teal:\"#008080\",white:\"#ffffff\",yellow:\"#ffff00\"},u=/rgba?\\s*\\(\\s*([0-9]{1,3})\\s*,\\s*([0-9]{1,3})\\s*,\\s*([0-9]{1,3})\\s*,?\\s*([0-9.]+)?\\)/;return function(t,e){e=e||{};\"#\"===(t=t.trim().toLowerCase())[0]?n(t,e):\"r\"===t[0]&&\"g\"===t[1]&&\"b\"===t[2]?o(t,e):i(t,e),e._strength=e._strength||1,e._color=function(t){return\"rgba(\"+t._red+\", \"+t._green+\", \"+t._blue+\", \"+t._strength+\")\"}(e)}}()});var r=require(\"fs\");t.defaultShader(\"Color\",new t.WebGLShader(\"attribute vec2 aPosition;\\nattribute vec3 aOrientation;\\nattribute vec2 aLayer;\\nattribute vec4 aColor;\\n\\nvarying lowp vec4 vColor;\\n\\nuniform  vec4 uViewport;\\n\\nmat4 viewportScale = mat4(2.0 / uViewport.z, 0, 0, 0,    0, -2.0 / uViewport.w, 0,0,    0, 0,1,0,    -1,+1,0,1);\\nvec4 viewportTranslation = vec4(uViewport.xy, 0, 0);\\n\\nvoid main() {\\n  vec2 pos = aPosition;\\n  vec2 entityOrigin = aOrientation.xy;\\n  mat2 entityRotationMatrix = mat2(cos(aOrientation.z), sin(aOrientation.z), -sin(aOrientation.z), cos(aOrientation.z));\\n\\n  pos = entityRotationMatrix * (pos - entityOrigin) + entityOrigin;\\n  gl_Position = viewportScale * (viewportTranslation + vec4(pos, 1.0/(1.0+exp(aLayer.x) ), 1) );\\n  vColor = vec4(aColor.rgb*aColor.a*aLayer.y, aColor.a*aLayer.y);\\n}\",\"precision mediump float;\\nvarying lowp vec4 vColor;\\nvoid main(void) {\\n\\tgl_FragColor = vColor;\\n}\",[{name:\"aPosition\",width:2},{name:\"aOrientation\",width:3},{name:\"aLayer\",width:2},{name:\"aColor\",width:4}],function(t,e){t.program.writeVector(\"aColor\",e._red/255,e._green/255,e._blue/255,e._strength)})),t.c(\"Color\",{_red:0,_green:0,_blue:0,_strength:1,_color:\"\",ready:!0,init:function(){this.bind(\"Draw\",this._drawColor),this._drawLayer&&this._setupColor(this._drawLayer),this.trigger(\"Invalidate\")},events:{LayerAttached:\"_setupColor\"},remove:function(){this.unbind(\"Draw\",this._drawColor),this.has(\"DOM\")&&(this._element.style.backgroundColor=\"transparent\"),this.trigger(\"Invalidate\")},_setupColor:function(e){\"WebGL\"===e.type&&this._establishShader(\"Color\",t.defaultShader(\"Color\"))},_drawColor:function(t){this._color&&(\"DOM\"===t.type?(t.style.backgroundColor=this._color,t.style.lineHeight=0):\"canvas\"===t.type?(t.ctx.fillStyle=this._color,t.ctx.fillRect(t.pos._x,t.pos._y,t.pos._w,t.pos._h)):\"webgl\"===t.type&&t.program.draw(t,this))},color:function(e){return 0===arguments.length?this._color:(arguments.length>=3?(this._red=arguments[0],this._green=arguments[1],this._blue=arguments[2],\"number\"==typeof arguments[3]&&(this._strength=arguments[3])):(t.assignColor(e,this),\"number\"==typeof arguments[1]&&(this._strength=arguments[1])),this._color=\"rgba(\"+this._red+\", \"+this._green+\", \"+this._blue+\", \"+this._strength+\")\",this.trigger(\"Invalidate\"),this)}});"},"hash":"018c9fc26c58987265e833bb5897425b"}