{"dependencies":[{"name":"../core/core.js","loc":{"line":1,"column":21}}],"generated":{"js":"var i=require(\"../core/core.js\");i.c(\"Draggable\",{_origX:null,_origY:null,_oldX:null,_oldY:null,_dir:null,init:function(){this.requires(\"MouseDrag\"),this.bind(\"StartDrag\",this._startDrag).bind(\"Dragging\",this._drag)},remove:function(){this.unbind(\"StartDrag\",this._startDrag).unbind(\"Dragging\",this._drag)},enableDrag:function(){return this.uniqueBind(\"Dragging\",this._drag),this},disableDrag:function(){return this.unbind(\"Dragging\",this._drag),this},dragDirection:function(i){if(void 0===i)this._dir=null;else if(+i===i)this._dir={x:Math.cos(i/180*Math.PI),y:Math.sin(i/180*Math.PI)};else if(0===i.x&&0===i.y)this._dir={x:0,y:0};else{var t=Math.sqrt(i.x*i.x+i.y*i.y);this._dir={x:i.x/t,y:i.y/t}}return this},_startDrag:function(i){this._origX=i.realX,this._origY=i.realY,this._oldX=this._x,this._oldY=this._y},_drag:function(i){if(this._dir){if(0!==this._dir.x||0!==this._dir.y){var t=(i.realX-this._origX)*this._dir.x+(i.realY-this._origY)*this._dir.y;this.x=this._oldX+t*this._dir.x,this.y=this._oldY+t*this._dir.y}}else this.x=this._oldX+(i.realX-this._origX),this.y=this._oldY+(i.realY-this._origY)}}),i.c(\"Controllable\",{init:function(){this._inputBindings={DirectionalInput:{},TriggerInputDown:{},TriggerInputUp:{}}},events:{DirectionalInput:function(i){this._inputBindings.DirectionalInput[i.name]&&this._inputBindings.DirectionalInput[i.name].call(this,i)},TriggerInputDown:function(i){this._inputBindings.TriggerInputDown[i.name]&&this._inputBindings.TriggerInputDown[i.name].call(this,i)},TriggerInputUp:function(i){this._inputBindings.TriggerInputUp[i.name]&&this._inputBindings.TriggerInputUp[i.name].call(this,i)}},linkInput:function(i,t,n){this._inputBindings[i][t]=n},unlinkInput:function(i,t){delete this._inputBindings[i][t]},disableControls:!1,enableControl:function(){return this.disableControls=!1,this},disableControl:function(){return this.disableControls=!0,this}}),i.c(\"Multiway\",{_speed:null,init:function(){this.requires(\"Motion, Controllable\"),this._dpadName=\"MultiwayDpad\"+this[0],this._speed={x:150,y:150},this._direction={x:0,y:0}},remove:function(){this.disableControls||(this.vx=this.vy=0)},events:{EnterFrame:function(){this.disableControls||(void 0!==this._speed.x&&null!==this._speed.x&&(this.vx=this._speed.x*this._direction.x),void 0!==this._speed.y&&null!==this._speed.y&&(this.vy=this._speed.y*this._direction.y))}},_updateDirection:function(i){this._direction.x=i.x,this._direction.y=i.y},multiway:function(t,n,s){var e=i.s(\"Controls\");return n?this.speed(t):n=t,e.defineDpad(this._dpadName,n,s),this.linkInput(\"DirectionalInput\",this._dpadName,this._updateDirection),this},speed:function(i){return\"object\"==typeof i?(this._speed.x=i.x,this._speed.y=i.y):(this._speed.x=i,this._speed.y=i),this}}),i.c(\"Jumper\",{_jumpSpeed:300,canJump:!0,init:function(){this.requires(\"Supportable, Motion, Controllable\")},remove:function(){this.unlinkInput(\"TriggerInputDown\",this._jumpTriggerName)},_keydown_jumper:function(i){this.disableControls||this.jump()},jump:function(){var i=this.ground;return this.canJump=!!i,this.trigger(\"CheckJumping\",i),this.canJump&&(this.vy=-this._jumpSpeed),this},jumper:function(t,n){if(n?this._jumpSpeed=t:n=t,this._jumpTriggerName=\"JumpTrigger\"+this[0],Array.isArray(n)){for(var s=[],e=0;e<n.length;++e){var r=n[e],u=i.keys[r]||r;s.push(u)}i.s(\"Controls\").defineTriggerGroup(this._jumpTriggerName,{keys:s})}else i.s(\"Controls\").defineTriggerGroup(this._jumpTriggerName,n);return this.linkInput(\"TriggerInputDown\",this._jumpTriggerName,this._keydown_jumper),this},jumpSpeed:function(i){return this._jumpSpeed=i,this}}),i.c(\"Fourway\",{init:function(){this.requires(\"Multiway\")},fourway:function(i){return this.multiway(i||this._speed,{UP_ARROW:-90,DOWN_ARROW:90,RIGHT_ARROW:0,LEFT_ARROW:180,W:-90,S:90,D:0,A:180,Z:-90,Q:180}),this}}),i.c(\"Twoway\",{init:function(){this.requires(\"Multiway, Jumper\")},twoway:function(t,n){var s=t||this._speed;return this.multiway({x:s},{RIGHT_ARROW:0,LEFT_ARROW:180,D:0,A:180,Q:180}),this.jumper(n||2*t||this._jumpSpeed,[i.keys.UP_ARROW,i.keys.W,i.keys.Z]),this}});"},"hash":"26aaac82a2429d2faddf2999ab98b546"}